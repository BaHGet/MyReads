{"ast":null,"code":"import _slicedToArray from\"C:/Users/abosa/Desktop/MyReads/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/* eslint-disable no-restricted-globals */import\"./App.css\";import{Route,Routes}from'react-router-dom';import MainPage from\"./Components/MainPage\";import SearchPage from\"./Components/SearchPage\";import{useEffect,useState}from\"react\";import Output from\"./Components/Output\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(['']),_useState2=_slicedToArray(_useState,2),Shelf=_useState2[0],setShelf=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),updatestate=_useState4[0],setUpdateState=_useState4[1];/* window.onload = () => {\n    const nav = document.querySelector(\".list-books-title\");\n    const Width = screen.width;\n    nav.style = `width: ${Width}px`;\n    console.log(nav.style.width,Width)\n  } */var handleMoveToShelf=function handleMoveToShelf(book,shelf){if(book.shelf){setShelf(function(prev){return prev.filter(function(obj){return obj.id!==book.id;});});Output('update',book,shelf);}if(shelf==='none'&&!book.shelf){setShelf(function(prev){return prev.filter(function(obj){return obj.id!==book.id;});});Output('update',book[0],shelf);}if(shelf!=='none'&&!book.shelf){Output('update',book[0],shelf);}setInterval(function(){if(!(window.location.href==='https://bahget.github.io/MyReads/')){window.location.href='./';}else{window.location.reload();}console.log(window.location.href,window.location.origin);},400);setUpdateState(!updatestate);};useEffect(function(){Output('getall',setShelf);},[updatestate]);return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/MyReads\",element:/*#__PURE__*/_jsx(MainPage,{Shelf:Shelf,handleMoveToShelf:handleMoveToShelf})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/MyReads/Search\",element:/*#__PURE__*/_jsx(SearchPage,{handleMoveToShelf:handleMoveToShelf,Shelf:Shelf})})]});}export default App;","map":{"version":3,"sources":["C:/Users/abosa/Desktop/MyReads/starter/src/App.js"],"names":["Route","Routes","MainPage","SearchPage","useEffect","useState","Output","App","Shelf","setShelf","updatestate","setUpdateState","handleMoveToShelf","book","shelf","prev","filter","obj","id","setInterval","window","location","href","reload","console","log","origin"],"mappings":"6JAAA,0CACA,MAAO,WAAP,CACA,OAAQA,KAAR,CAAeC,MAAf,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAOC,CAAAA,UAAP,KAAuB,yBAAvB,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAmC,OAAnC,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,C,wFAEA,QAASC,CAAAA,GAAT,EAAe,eACaF,QAAQ,CAAC,CAAC,EAAD,CAAD,CADrB,wCACNG,KADM,eACCC,QADD,8BAEyBJ,QAAQ,CAAC,IAAD,CAFjC,yCAENK,WAFM,eAEOC,cAFP,eAIb;AACF;AACA;AACA;AACA;AACA,MACE,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,IAAD,CAAOC,KAAP,CAAgB,CAExC,GAAGD,IAAI,CAACC,KAAR,CAAc,CACZL,QAAQ,CAAC,SAACM,IAAD,QAAUA,CAAAA,IAAI,CAACC,MAAL,CAAY,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,EAAJ,GAAWL,IAAI,CAACK,EAApB,EAAf,CAAV,EAAD,CAAR,CACEZ,MAAM,CAAC,QAAD,CAAWO,IAAX,CAAiBC,KAAjB,CAAN,CACH,CAED,GAAGA,KAAK,GAAK,MAAV,EAAoB,CAAED,IAAI,CAACC,KAA9B,CAAqC,CACnCL,QAAQ,CAAC,SAACM,IAAD,QAAUA,CAAAA,IAAI,CAACC,MAAL,CAAY,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,EAAJ,GAAWL,IAAI,CAACK,EAApB,EAAf,CAAV,EAAD,CAAR,CACAZ,MAAM,CAAC,QAAD,CAAWO,IAAI,CAAC,CAAD,CAAf,CAAmBC,KAAnB,CAAN,CACD,CAED,GAAGA,KAAK,GAAK,MAAV,EAAoB,CAAED,IAAI,CAACC,KAA9B,CAAqC,CACnCR,MAAM,CAAC,QAAD,CAAWO,IAAI,CAAC,CAAD,CAAf,CAAmBC,KAAnB,CAAN,CACD,CAEDK,WAAW,CAAC,UAAM,CAEhB,GAAG,EAAEC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,mCAAzB,CAAH,CAAiE,CAC/DF,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,IAAvB,CAA6B,CAD/B,IACmC,CAC/BF,MAAM,CAACC,QAAP,CAAgBE,MAAhB,GACD,CACHC,OAAO,CAACC,GAAR,CAAYL,MAAM,CAACC,QAAP,CAAgBC,IAA5B,CAAkCF,MAAM,CAACC,QAAP,CAAgBK,MAAlD,EACD,CAPU,CAOR,GAPQ,CAAX,CASAf,cAAc,CAAC,CAACD,WAAF,CAAd,CACD,CA1BD,CA4BAN,SAAS,CAAC,UAAM,CACdE,MAAM,CAAC,QAAD,CAAUG,QAAV,CAAN,CACD,CAFQ,CAEN,CAACC,WAAD,CAFM,CAAT,CAIF,mBACI,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,UAAlB,CAA6B,OAAO,cAAE,KAAC,QAAD,EACtC,KAAK,CAAEF,KAD+B,CACxB,iBAAiB,CAAEI,iBADK,EAAtC,EADF,cAKE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,iBAAlB,CAAoC,OAAO,cAC3C,KAAC,UAAD,EAAY,iBAAiB,CAAEA,iBAA/B,CAAkD,KAAK,CAAEJ,KAAzD,EADA,EALF,GADJ,CAUC,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["/* eslint-disable no-restricted-globals */\nimport \"./App.css\";\nimport {Route, Routes} from 'react-router-dom'\nimport MainPage from \"./Components/MainPage\";\nimport SearchPage from \"./Components/SearchPage\";\nimport {useEffect, useState } from \"react\";\nimport Output from \"./Components/Output\";\n\nfunction App() {\n  const [Shelf, setShelf] = useState(['']);\n  const [updatestate, setUpdateState] = useState(true);\n  \n  /* window.onload = () => {\n    const nav = document.querySelector(\".list-books-title\");\n    const Width = screen.width;\n    nav.style = `width: ${Width}px`;\n    console.log(nav.style.width,Width)\n  } */\n  const handleMoveToShelf = (book, shelf) =>{\n\n    if(book.shelf){\n      setShelf((prev) =>(prev.filter(obj => obj.id !== book.id)));\n        Output('update', book, shelf);\n    }\n\n    if(shelf === 'none' && !(book.shelf)){\n      setShelf((prev) =>(prev.filter(obj => obj.id !== book.id)));\n      Output('update', book[0],shelf);\n    }\n\n    if(shelf !== 'none' && !(book.shelf)){\n      Output('update', book[0],shelf);\n    }\n\n    setInterval(() => {\n      \n      if(!(window.location.href==='https://bahget.github.io/MyReads/')){\n        window.location.href = './';}else{\n          window.location.reload();\n        }\n      console.log(window.location.href, window.location.origin)\n    }, 400); \n    \n    setUpdateState(!updatestate)\n  };\n\n  useEffect(() => {\n    Output('getall',setShelf)\n  }, [updatestate])\n\nreturn (\n    <Routes>\n      <Route exact path='/MyReads' element={<MainPage  \n      Shelf={Shelf} handleMoveToShelf={handleMoveToShelf}\n      />}/>\n    \n      <Route exact path='/MyReads/Search' element={\n      <SearchPage handleMoveToShelf={handleMoveToShelf} Shelf={Shelf} />}/>  \n    </Routes>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}