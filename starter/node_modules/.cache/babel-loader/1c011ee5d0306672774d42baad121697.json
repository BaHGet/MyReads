{"ast":null,"code":"import _objectSpread from\"C:/Users/abosa/Desktop/MyReads/starter/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var api=\"https://reactnd-books-api.udacity.com\";var token=localStorage.token;if(!token)token=localStorage.token=Math.random().toString(36).substr(-8);var headers={Accept:\"application/json\",Authorization:token};export var get=function get(bookId){return fetch(\"\".concat(api,\"/books/\").concat(bookId),{headers:headers}).then(function(res){return res.json();}).then(function(data){return data.book;}).catch(function(error){return console.log(error);});};export var getAll=function getAll(){return fetch(\"\".concat(api,\"/books\"),{headers:headers}).then(function(res){return res.json();}).then(function(data){return data.books;}).catch(function(error){return console.log(error);});};export var update=function update(book,shelf){return fetch(\"\".concat(api,\"/books/\").concat(book.id),{method:\"PUT\",headers:_objectSpread(_objectSpread({},headers),{},{\"Content-Type\":\"application/json\"}),body:JSON.stringify({shelf:shelf})}).then(function(res){return res.json();}).catch(function(error){return console.log(error);});};export var search=function search(query,maxResults){return fetch(\"\".concat(api,\"/search\"),{method:\"POST\",headers:_objectSpread(_objectSpread({},headers),{},{\"Content-Type\":\"application/json\"}),body:JSON.stringify({query:query,maxResults:maxResults})}).then(function(res){return res.json();}).then(function(data){return data.books;}).catch(function(error){return console.log(error);});};","map":{"version":3,"sources":["C:/Users/abosa/Desktop/MyReads/starter/src/BooksAPI.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","get","bookId","fetch","then","res","json","data","book","catch","error","console","log","getAll","books","update","shelf","id","method","body","JSON","stringify","search","query","maxResults"],"mappings":"4JAAA,GAAMA,CAAAA,GAAG,CAAG,uCAAZ,CAEA,GAAIC,CAAAA,KAAK,CAAGC,YAAY,CAACD,KAAzB,CAEA,GAAI,CAACA,KAAL,CAAYA,KAAK,CAAGC,YAAY,CAACD,KAAb,CAAqBE,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAC,CAAnC,CAA7B,CAEZ,GAAMC,CAAAA,OAAO,CAAG,CACdC,MAAM,CAAE,kBADM,CAEdC,aAAa,CAAER,KAFD,CAAhB,CAKA,MAAO,IAAMS,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACC,MAAD,QACjBC,CAAAA,KAAK,WAAIZ,GAAJ,mBAAiBW,MAAjB,EAA2B,CAAEJ,OAAO,CAAPA,OAAF,CAA3B,CAAL,CACCM,IADD,CACM,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADN,EAECF,IAFD,CAEM,SAACG,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAf,EAFN,EAGCC,KAHD,CAGO,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAHP,CADiB,EAAZ,CAMP,MAAO,IAAMG,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,SACpBV,CAAAA,KAAK,WAAIZ,GAAJ,WAAiB,CAAEO,OAAO,CAAPA,OAAF,CAAjB,CAAL,CACGM,IADH,CACQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,QAAUA,CAAAA,IAAI,CAACO,KAAf,EAFR,EAGGL,KAHH,CAGS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAHT,CADoB,EAAf,CAMP,MAAO,IAAMK,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACP,IAAD,CAAOQ,KAAP,QACpBb,CAAAA,KAAK,WAAIZ,GAAJ,mBAAiBiB,IAAI,CAACS,EAAtB,EAA4B,CAC/BC,MAAM,CAAE,KADuB,CAE/BpB,OAAO,gCACFA,OADE,MAEL,eAAgB,kBAFX,EAFwB,CAM/BqB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEL,KAAK,CAALA,KAAF,CAAf,CANyB,CAA5B,CAAL,CAOGZ,IAPH,CAOQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EAPR,EAQCG,KARD,CAQO,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EARP,CADoB,EAAf,CAWP,MAAO,IAAMY,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAQC,UAAR,QACpBrB,CAAAA,KAAK,WAAIZ,GAAJ,YAAkB,CACrB2B,MAAM,CAAE,MADa,CAErBpB,OAAO,gCACFA,OADE,MAEL,eAAgB,kBAFX,EAFc,CAMrBqB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CAAEE,KAAK,CAALA,KAAF,CAASC,UAAU,CAAVA,UAAT,CAAf,CANe,CAAlB,CAAL,CAQGpB,IARH,CAQQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACC,IAAJ,EAAT,EARR,EASGF,IATH,CASQ,SAACG,IAAD,QAAUA,CAAAA,IAAI,CAACO,KAAf,EATR,EAUGL,KAVH,CAUS,SAACC,KAAD,QAAWC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAX,EAVT,CADoB,EAAf","sourcesContent":["const api = \"https://reactnd-books-api.udacity.com\";\r\n\r\nlet token = localStorage.token;\r\n\r\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\r\n\r\nconst headers = {\r\n  Accept: \"application/json\",\r\n  Authorization: token,\r\n};\r\n\r\nexport const get = (bookId) =>\r\n  fetch(`${api}/books/${bookId}`, { headers })\r\n  .then((res) => res.json())\r\n  .then((data) => data.book)\r\n  .catch((error) => console.log(error));\r\n\r\nexport const getAll = () =>\r\n  fetch(`${api}/books`, { headers })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books)\r\n    .catch((error) => console.log(error));\r\n\r\nexport const update = (book, shelf) =>\r\n  fetch(`${api}/books/${book.id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ shelf }),\r\n  }).then((res) => res.json())\r\n  .catch((error) => console.log(error));\r\n\r\nexport const search = (query, maxResults) =>\r\n  fetch(`${api}/search`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      ...headers,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify({ query, maxResults }),\r\n  })\r\n    .then((res) => res.json())\r\n    .then((data) => data.books)\r\n    .catch((error) => console.log(error))\r\n"]},"metadata":{},"sourceType":"module"}